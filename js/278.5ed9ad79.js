"use strict";(self["webpackChunkewallet"]=self["webpackChunkewallet"]||[]).push([[278],{442:function(e,t,n){n.d(t,{Z:function(){return v}});var l=n(252),a=n(577);const o={class:"mb-1"},u=["for"],c=["id","type","placeholder","value"];function i(e,t,n,i,r,s){return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("label",{for:n.id,class:"block mb-1"},(0,a.zw)(n.label),9,u),(0,l._)("input",{class:(0,a.C_)(["w-full p-2 border-x border-y border-solid rounded",{invalid:n.inValid}]),ref:"inputRef",id:n.id,type:n.type,placeholder:n.placeholder,value:n.value,onInput:t[0]||(t[0]=t=>e.$emit("update:value",t.target.value))},null,42,c)])}var r={props:{id:String,type:{type:String,default:"text"},label:String,placeholder:String,value:[String,Number],inValid:Boolean,isFocus:{type:Boolean,default:!1}},watch:{isFocus(e){e&&this.focus()}},methods:{focus(){this.$refs.inputRef.focus()}}},s=n(744);const d=(0,s.Z)(r,[["render",i]]);var v=d},722:function(e,t,n){n.d(t,{Z:function(){return f}});var l=n(252),a=n(577);const o={key:0,id:"header",class:"h-14 shadow fixed top-0 bg-white"},u={class:"flex flex-auto items-center h-full"},c={class:"w-8 text-center"};function i(e,t,n,i,r,s){const d=(0,l.up)("font-awesome-icon");return n.isChild?((0,l.wg)(),(0,l.iD)("header",o,[(0,l._)("div",u,[(0,l._)("div",c,[(0,l._)("button",{onClick:t[0]||(t[0]=(...e)=>i.onBack&&i.onBack(...e))},[(0,l.Wm)(d,{icon:["fas","chevron-left"]})])]),(0,l._)("div",null,(0,a.zw)(n.title),1)])])):(0,l.kq)("",!0)}var r=n(201),s={props:["title","isChild"],setup(){const e=(0,r.tv)();function t(){e.go(-1)}return{onBack:t}}},d=n(744);const v=(0,d.Z)(s,[["render",i]]);var f=v},278:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var l=n(252);const a={class:"mt-14"},o={class:"container"},u={class:"mb-6 p-4"},c={class:"flex justify-around gap-4 mt-4"};function i(e,t,n,i,r,s){const d=(0,l.up)("navigation-top"),v=(0,l.up)("CustomInput");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(d,{isChild:"isChild",title:"Cập nhật ví"}),(0,l._)("div",a,[(0,l._)("div",o,[(0,l._)("div",u,[(0,l.Wm)(v,{label:"Đặt tên ví",placeholder:"Ngân hàng ABC",value:i.walletName,"in-valid":i.walletNameInvalid,"is-focus":i.walletNameFocus,"onUpdate:value":t[0]||(t[0]=e=>i.walletName=e)},null,8,["value","in-valid","is-focus"]),(0,l._)("div",c,[(0,l._)("button",{onClick:t[1]||(t[1]=t=>e.$router.go(-1)),class:"modal-default-button bg-gray-400 hover:bg-gray-500"}," Hủy "),(0,l._)("button",{class:"modal-default-button bg-green-600 hover:bg-green-700",onClick:t[2]||(t[2]=(...e)=>i.onSubmit&&i.onSubmit(...e))}," Cập nhật ")])])])])],64)}var r=n(262),s=n(201),d=n(722),v=n(442),f=n(676),g=n(945),p={components:{NavigationTop:d.Z,CustomInput:v.Z},setup(){const e=(0,s.yj)(),t=e.meta?.isChild,{getSingleRecord:n,updateRecord:a,error:o}=(0,f.Z)("wallets"),u=(0,r.iH)(null),c=(0,r.iH)(!1),i=(0,r.iH)(!1),d=(0,r.iH)(null),v=e.params.id;function p(){i.value=!1,c.value=!1}async function h(){if(p(),!u.value||u.value.length<1)return i.value=!0,void(c.value=!0);const e={name:u.value};await a(v,e),o.value?(console.log("error",o),g.Am.error("Vui lòng thử lại")):g.Am.success("Cập nhật ví thành công")}async function m(){const e=await n(v);e.exists?(d.value=e.data(),u.value=d.value.name):g.Am.error("Dữ liệu không tồn tại")}return(0,l.bv)((async()=>await m())),{isChild:t,onSubmit:h,walletName:u,walletNameInvalid:i,walletNameFocus:c}}},h=n(744);const m=(0,h.Z)(p,[["render",i]]);var w=m},676:function(e,t,n){var l=n(262),a=n(352);const o=e=>{const t=(0,l.iH)(null);async function n(n){t.value=null;try{const t=await a.H1.collection(e).add(n);return t}catch(l){console.log(l),t.value=l.message}}async function o(){t.value=null;try{const t=await a.H1.collection(e).get();return t}catch(n){console.log(n),t.value=n.message}}async function u(n){t.value=null;try{const t=await a.H1.collection(e).doc(n).get();return t}catch(l){console.log(l),t.value=l.message}}async function c(n,l){t.value=null;try{return await a.H1.collection(e).doc(n).update(l)}catch(o){console.log(o),t.value=o.message}}async function i(n){t.value=null;try{const t=await a.H1.collection(e).doc(n).delete();return t}catch(l){console.log(l),t.value=l.message}}return{error:t,addRecord:n,getRecord:o,updateRecord:c,getSingleRecord:u,deleteRecord:i}};t.Z=o}}]);
//# sourceMappingURL=278.5ed9ad79.js.map